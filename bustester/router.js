const trips = require('./busdata/trips.json');
const stops = require('./busdata/stops.json');
let regions =[
    [
      { lat: 47.1891174, lng: -122.506622 },
      { lat: 47.1891174, lng: -122.3624646 },
      { lat: 47.32550656, lng: -122.3624646 },
      { lat: 47.32550656, lng: -122.506622 }
    ],
    [
      { lat: 47.32550656, lng: -122.506622 },
      { lat: 47.32550656, lng: -122.3624646 },
      { lat: 47.46189572, lng: -122.3624646 },
      { lat: 47.46189572, lng: -122.506622 }
    ],
    [
      { lat: 47.46189572, lng: -122.506622 },
      { lat: 47.46189572, lng: -122.3624646 },
      { lat: 47.59828488, lng: -122.3624646 },
      { lat: 47.59828488, lng: -122.506622 }
    ],
    [
      { lat: 47.59828488, lng: -122.506622 },
      { lat: 47.59828488, lng: -122.3624646 },
      { lat: 47.73467404, lng: -122.3624646 },
      { lat: 47.73467404, lng: -122.506622 }
    ],
    [
      { lat: 47.73467404, lng: -122.506622 },
      { lat: 47.73467404, lng: -122.3624646 },
      { lat: 47.8710632, lng: -122.3624646 },
      { lat: 47.8710632, lng: -122.506622 }
    ],
    [
      { lat: 47.1891174, lng: -122.3624646 },
      { lat: 47.1891174, lng: -122.2183072 },
      { lat: 47.32550656, lng: -122.2183072 },
      { lat: 47.32550656, lng: -122.3624646 }
    ],
    [
      { lat: 47.32550656, lng: -122.3624646 },
      { lat: 47.32550656, lng: -122.2183072 },
      { lat: 47.46189572, lng: -122.2183072 },
      { lat: 47.46189572, lng: -122.3624646 }
    ],
    [
      { lat: 47.46189572, lng: -122.3624646 },
      { lat: 47.46189572, lng: -122.2183072 },
      { lat: 47.59828488, lng: -122.2183072 },
      { lat: 47.59828488, lng: -122.3624646 }
    ],
    [
      { lat: 47.59828488, lng: -122.3624646 },
      { lat: 47.59828488, lng: -122.2183072 },
      { lat: 47.73467404, lng: -122.2183072 },
      { lat: 47.73467404, lng: -122.3624646 }
    ],
    [
      { lat: 47.73467404, lng: -122.3624646 },
      { lat: 47.73467404, lng: -122.2183072 },
      { lat: 47.8710632, lng: -122.2183072 },
      { lat: 47.8710632, lng: -122.3624646 }
    ],
    [
      { lat: 47.1891174, lng: -122.2183072 },
      { lat: 47.1891174, lng: -122.0741498 },
      { lat: 47.32550656, lng: -122.0741498 },
      { lat: 47.32550656, lng: -122.2183072 }
    ],
    [
      { lat: 47.32550656, lng: -122.2183072 },
      { lat: 47.32550656, lng: -122.0741498 },
      { lat: 47.46189572, lng: -122.0741498 },
      { lat: 47.46189572, lng: -122.2183072 }
    ],
    [
      { lat: 47.46189572, lng: -122.2183072 },
      { lat: 47.46189572, lng: -122.0741498 },
      { lat: 47.59828488, lng: -122.0741498 },
      { lat: 47.59828488, lng: -122.2183072 }
    ],
    [
      { lat: 47.59828488, lng: -122.2183072 },
      { lat: 47.59828488, lng: -122.0741498 },
      { lat: 47.73467404, lng: -122.0741498 },
      { lat: 47.73467404, lng: -122.2183072 }
    ],
    [
      { lat: 47.73467404, lng: -122.2183072 },
      { lat: 47.73467404, lng: -122.0741498 },
      { lat: 47.8710632, lng: -122.0741498 },
      { lat: 47.8710632, lng: -122.2183072 }
    ],
    [
      { lat: 47.1891174, lng: -122.0741498 },
      { lat: 47.1891174, lng: -121.9299924 },
      { lat: 47.32550656, lng: -121.9299924 },
      { lat: 47.32550656, lng: -122.0741498 }
    ],
    [
      { lat: 47.32550656, lng: -122.0741498 },
      { lat: 47.32550656, lng: -121.9299924 },
      { lat: 47.46189572, lng: -121.9299924 },
      { lat: 47.46189572, lng: -122.0741498 }
    ],
    [
      { lat: 47.46189572, lng: -122.0741498 },
      { lat: 47.46189572, lng: -121.9299924 },
      { lat: 47.59828488, lng: -121.9299924 },
      { lat: 47.59828488, lng: -122.0741498 }
    ],
    [
      { lat: 47.59828488, lng: -122.0741498 },
      { lat: 47.59828488, lng: -121.9299924 },
      { lat: 47.73467404, lng: -121.9299924 },
      { lat: 47.73467404, lng: -122.0741498 }
    ],
    [
      { lat: 47.73467404, lng: -122.0741498 },
      { lat: 47.73467404, lng: -121.9299924 },
      { lat: 47.8710632, lng: -121.9299924 },
      { lat: 47.8710632, lng: -122.0741498 }
    ],
    [
      { lat: 47.1891174, lng: -121.9299924 },
      { lat: 47.1891174, lng: -121.785835 },
      { lat: 47.32550656, lng: -121.785835 },
      { lat: 47.32550656, lng: -121.9299924 }
    ],
    [
      { lat: 47.32550656, lng: -121.9299924 },
      { lat: 47.32550656, lng: -121.785835 },
      { lat: 47.46189572, lng: -121.785835 },
      { lat: 47.46189572, lng: -121.9299924 }
    ],
    [
      { lat: 47.46189572, lng: -121.9299924 },
      { lat: 47.46189572, lng: -121.785835 },
      { lat: 47.59828488, lng: -121.785835 },
      { lat: 47.59828488, lng: -121.9299924 }
    ],
    [
      { lat: 47.59828488, lng: -121.9299924 },
      { lat: 47.59828488, lng: -121.785835 },
      { lat: 47.73467404, lng: -121.785835 },
      { lat: 47.73467404, lng: -121.9299924 }
    ],
    [
      { lat: 47.73467404, lng: -121.9299924 },
      { lat: 47.73467404, lng: -121.785835 },
      { lat: 47.8710632, lng: -121.785835 },
      { lat: 47.8710632, lng: -121.9299924 }
    ]
  ]; 

function checkRegion(lat, lng) {
  let j = 0;
  for (let i of regions) {
    if (lat >= i[0].lat && lat <= i[2].lat && lng >= i[0].lng && lng <= i[2].lng) return j;
    j++;
  }
  return -1;
}

var obj = {};
for (let i of Object.keys(trips)) {
  obj[i] = {
    "interregion": [],
    "intraregion": {}
  }
  for (let j of trips[i]) {
    let c = checkRegion(parseInt(stops[j.stop_id].latitude), parseInt(stops[j.stop_id].longitude));

  }
}